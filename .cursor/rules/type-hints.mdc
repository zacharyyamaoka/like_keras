---
alwaysApply: true
---

- ALWAYS add type hints to all function signatures, with special attention to non-standard/custom classes.
- Use built-in Python generics (`list`, `dict`, `tuple`, etc.) directly for type hints, unless backward compatibility requires the `typing` module equivalents.
- For common types (`int`, `float`, `str`, `bool`), use their names directly in type hints.
- Always use explicit type hints for custom BAM classes (e.g., `WaypointAction`, `PoseStamped`).
- When an argument can be omitted (i.e. default to `None`), use `Optional` from `typing` for the type hint.
- If a parameter can be one of a few specific classes, use the Python `|` operator between types, e.g. `RobotDescription | RobotDescription | RobotDescription`.
- Example usage:
  ```python
  from typing import Optional
  from bam.msgs import WaypointAction
  import numpy as np

  def validate_path(
      waypoint_action: WaypointAction, 
      matrix_path: list[np.ndarray], 
      tol: Optional[float] = None,
      tolerance: float = 0.01
  ) -> tuple[bool, dict[str, object]]:
      # Validates a matrix path.
      pass
  ```
- Benefits of type hints:
  - Improved IDE support and autocomplete.
  - Enhanced code self-documentation.
  - Easier to understand function inputs/outputs at a glance.
  - Helps catch type errors early during development.