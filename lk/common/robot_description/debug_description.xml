<?xml version="1.0" ?>
<!-- Standalone URDF xacro for conveyor belt -->
<robot name="conveyor">
  <material name="StoglRobotics/Violet">
    <color rgba="0.4 0.1803921568627451 0.5686274509803921 1.0"/>
    <ambient>1 0 0 1</ambient>
    <diffuse>1 0 0 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <material name="StoglRobotics/DarkGrey">
    <color rgba="0.2 0.2 0.2 1.0"/>
    <ambient>1 0 0 1</ambient>
    <diffuse>1 0 0 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <material name="StoglRobotics/LightGrey">
    <color rgba="0.7607843137254902 0.7607843137254902 0.7607843137254902 1.0"/>
    <ambient>1 0 0 1</ambient>
    <diffuse>1 0 0 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <material name="Ghost">
    <color rgba="0.7607843137254902 0.7607843137254902 0.7607843137254902 0.5"/>
    <ambient>1 0 0 1</ambient>
    <diffuse>1 0 0 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <material name="Black">
    <color rgba="0.0 0.0 0.0 1"/>
    <ambient>1 0 0 1</ambient>
    <diffuse>1 0 0 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <material name="White">
    <color rgba="1.0 1.0 1.0 1"/>
    <ambient>1 0 0 1</ambient>
    <diffuse>1 0 0 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <material name="Red">
    <color rgba="1.0 0.0 0.0 1.0"/>
    <ambient>1 0 0 1</ambient>
    <diffuse>1 0 0 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <material name="Orange">
    <color rgba="1.0 0.55 0.0 1.0"/>
    <ambient>1 0.5 0 1</ambient>
    <diffuse>1 0.5 0 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <material name="Yellow">
    <color rgba="1.0 1.0 0.0 1.0"/>
    <ambient>1 1 0 1</ambient>
    <diffuse>1 1 0 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <material name="Green">
    <color rgba="0.0 1.0 0.0 1.0"/>
    <ambient>0 1 0 1</ambient>
    <diffuse>0 1 0 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <material name="Blue">
    <color rgba="0.0 0.0 1.0 1.0"/>
    <ambient>0 0 1 1</ambient>
    <diffuse>0 0 1 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <material name="Indigo">
    <color rgba="0.29 0.0 0.51 1.0"/>
    <ambient>0.25 0 0.45 1</ambient>
    <diffuse>0.25 0 0.45 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <material name="Violet">
    <color rgba="0.56 0.0 1.0 1.0"/>
    <ambient>0.5 0 1 1</ambient>
    <diffuse>0.5 0 1 1</diffuse>
    <specular>0.1 0.1 0.1 1</specular>
    <emissive>0 0 0 0</emissive>
  </material>
  <link name="world"/>
  <joint name="world_to_base_link" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="world"/>
    <child link="base_link"/>
  </joint>
  <link name="base_link"/>
  <joint name="base_link_to_conveyor" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="surface_center"/>
  </joint>
  <!--
    Conveyor belt macro with rollers and railings.
    
    Visual design:
    - Main belt (box)
    - Two railings on either side
    - Roller cylinders at front and back edges
    
    Frame structure:
    - surface_center: Center of top surface (PRIMARY REFERENCE)
    - center: Geometric center of conveyor box
    - surface_front: Front edge of top surface
    - roller_front: Front roller position
    - roller_back: Back roller position
  -->
  <!-- Surface center link (PRIMARY REFERENCE FRAME) -->
  <link name="surface_center">
    <!-- Super small interia to not effect dynamics and small rviz interia box -->
    <inertial>
      <mass value="0.0001"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.001" ixy="0.00001" ixz="0.00001" iyy="0.001" iyz="0.00001" izz="0.001"/>
    </inertial>
  </link>
  <!-- Center link (geometric center of box) -->
  <joint name="surface_center_to_center" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 -0.025"/>
    <parent link="surface_center"/>
    <child link="center"/>
  </joint>
  <link name="center">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.4 1.45 0.05"/>
      </geometry>
      <material name="ConveyorGrey">
        <color rgba="0.2 0.2 0.2 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.4 1.45 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="10.0"/>
      <inertia ixx="1.7541666666666664" ixy="0" ixz="0" iyy="0.13541666666666669" iyz="0" izz="1.8854166666666667"/>
    </inertial>
  </link>
  <!-- Surface front link -->
  <joint name="surface_center_to_surface_front" type="fixed">
    <origin rpy="0 0 0" xyz="0 0.75 0"/>
    <parent link="surface_center"/>
    <child link="surface_front"/>
  </joint>
  <link name="surface_front">
    <!-- Super small interia to not effect dynamics and small rviz interia box -->
    <inertial>
      <mass value="0.0001"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.001" ixy="0.00001" ixz="0.00001" iyy="0.001" iyz="0.00001" izz="0.001"/>
    </inertial>
  </link>
  <!-- Front roller (positioned so outer edge aligns with conveyor length) -->
  <joint name="surface_center_to_roller_front" type="fixed">
    <origin rpy="0 0 0" xyz="0 0.725 -0.025"/>
    <parent link="surface_center"/>
    <child link="roller_front"/>
  </joint>
  <link name="roller_front">
    <visual>
      <origin rpy="0 1.5707963267948966 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.4" radius="0.025"/>
      </geometry>
      <material name="ConveyorGrey">
        <color rgba="0.2 0.2 0.2 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 1.5707963267948966 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.4" radius="0.025"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="1.0"/>
      <inertia ixx="0.013489583333333334" ixy="0" ixz="0" iyy="0.013489583333333334" iyz="0" izz="0.00031250000000000006"/>
    </inertial>
  </link>
  <!-- Back roller (positioned so outer edge aligns with conveyor length) -->
  <joint name="surface_center_to_roller_back" type="fixed">
    <origin rpy="0 0 0" xyz="0 -0.725 -0.025"/>
    <parent link="surface_center"/>
    <child link="roller_back"/>
  </joint>
  <link name="roller_back">
    <visual>
      <origin rpy="0 1.5707963267948966 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.4" radius="0.025"/>
      </geometry>
      <material name="ConveyorGrey">
        <color rgba="0.2 0.2 0.2 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 1.5707963267948966 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.4" radius="0.025"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="1.0"/>
      <inertia ixx="0.013489583333333334" ixy="0" ixz="0" iyy="0.013489583333333334" iyz="0" izz="0.00031250000000000006"/>
    </inertial>
  </link>
  <!-- Left railing -->
  <joint name="left_railing_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.21000000000000002 0 0.0"/>
    <parent link="surface_center"/>
    <child link="left_railing"/>
  </joint>
  <link name="left_railing">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.02 1.5 0.1"/>
      </geometry>
      <material name="RailingGrey">
        <color rgba="0.4 0.4 0.4 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.02 1.5 0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.5"/>
      <inertia ixx="0.09416666666666665" ixy="0" ixz="0" iyy="0.00043333333333333337" iyz="0" izz="0.09376666666666666"/>
    </inertial>
  </link>
  <!-- Right railing -->
  <joint name="right_railing_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.21000000000000002 0 0.0"/>
    <parent link="surface_center"/>
    <child link="right_railing"/>
  </joint>
  <link name="right_railing">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.02 1.5 0.1"/>
      </geometry>
      <material name="RailingGrey">
        <color rgba="0.4 0.4 0.4 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.02 1.5 0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin xyz="0 0 0"/>
      <mass value="0.5"/>
      <inertia ixx="0.09416666666666665" ixy="0" ixz="0" iyy="0.00043333333333333337" iyz="0" izz="0.09376666666666666"/>
    </inertial>
  </link>
  <!-- Belt joint (fixed, motor position tracked via CAN ID, not part of kinematics) -->
  <joint name="belt_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="roller_front"/>
    <child link="belt_link"/>
  </joint>
  <link name="belt_link">
    <!-- Super small interia to not effect dynamics and small rviz interia box -->
    <inertial>
      <mass value="0.0001"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.001" ixy="0.00001" ixz="0.00001" iyy="0.001" iyz="0.00001" izz="0.001"/>
    </inertial>
  </link>
</robot>
